XXXXXX XX XXXX XXXX XXXX XXXX XXXX XXXX
OP                   Data/adress --->                    
STATUSFLAGGOR:
Zero, Negative, Carry, Overflow, Read Ready Midi, Read Ready Touch

16 allmänna regs.
16 extra regs.

IF = Ingen förändring

ADRESSERINGSMODER:
-

adresser 11bitar

Destination skrivs direkt efter OP koden, source i slutet

--- Instruktioner ---
NOP
00000 XX XXXX XXXX XXXX XXXX XXXX XXXX

TRAP
00001 XX XXXX XXXX XXXX XXXX XXXX XXXX

STORE.c (constant) (specialfall där vi inte hade tillräckligt med bitar för adress och data)
11000 AAAA AAAA AAA DDDD DDDD DDDD DDDD

STORE.r (from register)
11001 AAAA AAAA AAA XXX XXXX XXXR RRRR

STORE.wo (from register with constant offset)
11010 AAAA AAAA AAA CCC CCCC CCCR RRRR

STORE.wofr (from register with constant offset from register)
11011 AAAA AAAA AAA XXX XXOO OOOR RRRR
		(O = Register with offset data)
LOAD.a
11100 RRRR RXX XXXX XXXX AAA AAAA AAAA

LOAD.c
11101 RRRR RX XXXX DDDD DDDD DDDD DDDD

LOAD.wo (with offset)
11110 RRRR RCC CCCC CCCC AAA AAAA AAAA

LOAD.wro (with offset in register)
11111 RRRR RXX XXXX OOOO AAA AAAA AAAA

MOVE
00100 RRRR XX XXXX XXXX XXXX XXXR RRRR

---------------------------------------------

BRANCH(till adress)
01000 XXX XXXX XXXX XXXX AAA AAAA AAAA

BRANCH(offset i register)
01001 XX XXXX XXXX XXXX XXXX XXXR RRRR

BRANCH(offset från där man står)
01010 XX XXXX XXXX XXXX XXOO OOOO OOOO 

BCC
10000 SSSS XXX XXXX XXXX AAA AAAA AAAA
(S = status flag)

BCC(offset i reg)
10001 SSSS XX XXXX XXXX XXXX XXXR RRRR

BCC(offset från där man står)
10010 SSSS XX XXXX XXXX XXOO OOOO OOOO

BNCC
10100 SSSS XXX XXXX XXXX AAA AAAA AAAA
(S = status flag)

BNCC(offset i reg)
10101 SSSS XX XXXX XXXX XXXX XXXR RRRR

BNCC(offset från där man står)
10110 SSSS XX XXXX XXXX XXOO OOOO OOOO


---------- ALU -------------------------


ALUINST.r

00101 OOOOO RRRR R XXXX XXXX XXXX RRRR


ALUINST.c

00110 OOOOO RRRR R DDDD DDDD DDDD DDDD


O = Operation

00000:  do nothing

Påverkade statusflaggor:
Z  :  IF
N  :  IF
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF

00001:  ADD unsigned

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  IF
C  :  1 om additionen orsakar carry, annars 0
O  :  IF
RRM:  IF
RRT:  IF

00010:  ADD signed

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  1 om två positiva tal resulterar i ett tal med signbit 1(eller vice versa med 2 negativa tal), annars 0
RRM:  IF
RRT:  IF

00011:  SUB unsigned

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  IF
C  :  1 om additionen orsakar carry, annars 0
O  :  IF
RRM:  IF
RRT:  IF

00100:  SUB signed

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  1 om (x-y) < 0 om x > 0 och y < 0 eller (x-y) > 0 om x < 0 och y > 0annars 0
RRM:  IF
RRT:  IF

00101:  MUL (fixed point)

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  1 om multiplikationen orsakat någon bit utöver REG_WIDTH att bli satt
RRM:  IF
RRT:  IF

00110:  bitshift right

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  =sista biten som shiftades ut
RRM:  IF
RRT:  IF

00111:  bitshift left

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  =sista biten som shiftades ut
RRM:  IF
RRT:  IF


01000:  AND

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF

01001:  OR

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF

01010:  XOR

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF

01011:  NOT

Påverkade statusflaggor:
Z  :  1 om resultatet är 0 annars 0
N  :  1 om resultatets sign bit är satt, annars 0
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF


/*
(ALL THESE ARE COMPARE, replacing these with CMP only)
01100:  EQUAL
01101:  LESSTHAN
01110:  MORETHAN
*/

01100:  CMP

Påverkade statusflaggor:
Z  :  1 om x-y=0 annars 0
N  :  1 om x < y annars 0
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF



01111:  BITTEST
(tar in unsigned)
Påverkade statusflaggor:
Z  :  1 om biten är 0, 0 annars eller om talet som skickas in är >=REG_WIDTH
N  :  IF
C  :  IF
O  :  IF
RRM:  IF
RRT:  IF

-----------------------------------------


